- name: Install Software
  hosts: all
  tasks:
    - name: Clone the Azure DevOps repository using git
      ansible.builtin.git:
        repo: https://kynetec@dev.azure.com/kynetec/IT%20Azure%20IaC/_git/Azure-Zabbix-Monitoring
        dest: C:\Windows\Temp\
        version: "develop"
        clone: yes
        update: yes

        username: "your_username"  # Can be any string
        password: "{{ lookup('credentials', 'Azure DevOps') }}"  # Assumes PAT is stored in the environment variable
        force: yes