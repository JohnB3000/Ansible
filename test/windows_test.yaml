- name: Install Software
  hosts: all
  tasks:
    - name: Ensure the directory exists
      win_file:
          path: C:\Temp\
          state: directory
          recurse: yes

    - name: Download the NVIDIA GeForce Experience installer
      ansible.windows.win_get_url:
        url: https://uk.download.nvidia.com/GFE/GFEClient/3.28.0.417/GeForce_Experience_v3.28.0.417.exe
        dest: C:\Temp\GeForce_Experience_Installer.exe

    - name: Install NVIDIA GeForce Experience using the installer
      ansible.windows.win_package:
        path: C:\Temp\GeForce_Experience_Installer.exe
        state: present
        arguments: /S
